spec:
    replicas: 3
    image: rabbitmq:3.13.7-management
    service:
      type: ClusterIP
    persistence:
      storageClassName: gp2
      storage: 10Gi

# Optional LoadBalancer Service for external access (e.g., VPN connections)
# This creates a separate service alongside the operator's default ClusterIP service
loadBalancer:
  enabled: false
  # Cloud provider annotations (e.g., AWS NLB, internal LB, etc.)
  annotations: {}
    # Example for AWS internal NLB:
    # service.beta.kubernetes.io/aws-load-balancer-type: "nlb"
    # service.beta.kubernetes.io/aws-load-balancer-internal: "true"
    # service.beta.kubernetes.io/aws-load-balancer-scheme: "internal"
  # Restrict access to specific IP ranges (e.g., VPN CIDR blocks)
  loadBalancerSourceRanges: []
    # Example:
    # - "10.0.0.0/8"
    # - "192.168.1.0/24"
  # Service type (usually LoadBalancer, but can be NodePort for testing)
  type: LoadBalancer
  # Port configurations
  ports:
    amqp:
      port: 5672
      targetPort: 5672
      protocol: TCP
    management:
      port: 15672
      targetPort: 15672
      protocol: TCP
